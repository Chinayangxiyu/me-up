# 一、消息消费push和pull比较
## push模式
优势：实时。  
劣势1：无法即时感知消费端的消费能力，如果消息的生产能力大于消费能力会导致消费端的消息堆积；  
严重的可能导致消费端服务崩溃。（可以根据消费端的消费能力做流控）  
劣势2：需要维护每次消息传输状态，传输是吧需要重试。

## pull模式
优势1：消费端根据自己的消费能力灵活调整消息拉取量。  
优势2：消息传输失败重新拉取就行，不要保留状态。

劣势1：消息拉取不实时，频率太高会给予服务节点太大压力，频率太低，消息延迟会变高。  
（腾讯的CMQ里有一套长轮询的解决方案，就是取数据时要是没有数据可消费，不是直接返回而是连接等待，一直有数据来了再返回）