# 一、抵押网络技术选型
背景：因为当时时间比较紧，需要尽快开发上线。
（1）SpringBoot作为基础架构，其自动装配保证开发简洁性。
（2）抵押网络内部分三个模块，支付、抵押web端、抵押服务端；因为工期原因整合在一个应用里面；
暂时的业务量并不大，没有采用微服务的架构；整个应用由k8s监控；后续如果业务量涨起来可以考虑
拆分为不同的微服务。
（3）rabbitMQ：rabbitMQ比较稳定，健壮性也比较强，对重试、死信、延迟队列的支持都比较完善；
我们的吞吐量并不高，而且有的消息要求的实时性比较高，所以选择rabbitMQ。
（4）配置中心： 公司内部有维护一套现成的配置中心xdiamond，而项目本身对配置中心的依赖程度不高，所以选择xdiamond。
## 1.5 分布式ID选型：
UUID、自增ID、redis、雪花算法
UUID问题：无序，影响mysql索引（碎片，影响插入效率）；
自增ID：高并发情况下因为自增ID的获取有锁限制性能低，目前虽然没有大并发，需要留扩展空间，而且自增ID没有业务含义。
redis：持久化可能丢失数据。
雪花算法：有序，高性能；
百度（uid-generator）：百度优化的雪花算法，基于mysql获取workID；
美团（Leaf）：基于zk获取workID，我们是docker部署服务，对于zk的使用不友善。


基于redis设计了一个获取workID的方案，性能比mysql查询更高。



自动装配原理：组件在META-INF目录创建spring.factorie文件，SpringBoot在启动时回去加载，解析。

# 二、问题
## 导出优化问题
（1）代码优化，批量操作，包括调用外部接口的优化，尽量提供批量接口；
（2）sql优化，添加合适的索引；查看执行计划；
（3）拆分任务，并行计算。

## restTemplate问题

## 事务失效问题


